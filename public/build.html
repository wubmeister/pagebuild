<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Pagebuild</title>

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons|Roboto:400,500,700" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="lib/pagebuild/css/pagebuild.css" />
    <link rel="stylesheet" type="text/css" href="assets/css/basic.css" />

    <style>
    body > a._pb_add_button {
        display: block;
        margin: 20px auto;
    }
    </style>
</head>
<body>

    <a class="_pb_circle_button _pb_add_button"><i class="material-icons">add</i></a>

<script src="lib/pagebuild/js/pagebuild.js"></script>
<script src="lib/pagebuild/js/classes.js"></script>
<script>
    Interface.init();
    Component.load({
        "section": {
            "label": "Section",
            "thumb": "assets/thumbs/basic/section.svg",
            "html": "<section class=\"basic {{color}} {{align}} section\"><div class=\"basic container {{content_class}}\"></div></section>",
            "settings": [
                {
                    "name": "color",
                    "label": "Color",
                    "type": "color",
                    "allowNone": "true",
                    "defaultValue": "blue"
                },
                {
                    "name": "align",
                    "label": "Text alignment",
                    "type": "select",
                    "options": {
                        "left": "Left",
                        "centered": "Center",
                        "right": "Right"
                    },
                    "defaultValue": "centered"
                }
            ]
        },
        "columns": {
            "label": "Columns",
            "thumb": "assets/thumbs/basic/columns.svg",
            "html": "<div class=\"basic columns {{content_class}}\"></div>"
        },
        "column": {
            "label": "Column",
            "thumb": "assets/thumbs/basic/column.svg",
            "html": "<div class=\"column {{width}} {{content_class}}\"></div>",
            "settings": [
                {
                    "name": "width",
                    "label": "Width",
                    "type": "select",
                    "options": {
                        "column-1-2": "Half",
                        "column-1-3": "One third",
                        "column-2-3": "Two third",
                        "column-1-4": "One quarter",
                        "column-3-4": "Three quarter"
                    },
                    "defaultValue": "column-1-2"
                }
            ]
        },
        "heading": {
            "label": "Heading",
            "thumb": "assets/thumbs/basic/heading.svg",
            "html": "<{{type}} class=\"basic heading\">Heading</{{type}}>",
            "settings": [
                {
                    "name": "type",
                    "label": "Type",
                    "type": "select",
                    "options": {
                        "h1": "Heading 1",
                        "h2": "Heading 2",
                        "h3": "Heading 3",
                        "h4": "Heading 4",
                        "h5": "Heading 5",
                        "h6": "Heading 6"
                    },
                    "defaultValue": "h1"
                }
            ]
        }
    });

    // document.querySelector('._pb_add_button').addEventListener('click', function(e) {
    window.addEventListener('click', function(e) {
        var el = e.target;

        while (el && !el.classList.contains('_pb_add_button') && !el.classList.contains('_pb_box')) el = el.parentElement;
        if (el) {
            e.preventDefault();
            if (el.classList.contains('_pb_box')) {
                el.style.border = '2px solid red';
            } else {
                Interface.showAddBox(el, Component.all());
            }
        }
    });
</script>

</body>
</html>
